webpackJsonp([1],{"+npN":function(t,s){},"2mts":function(t,s){},"986t":function(t,s){},BOXW:function(t,s){},E9x0:function(t,s){},EA7I:function(t,s){},FlRV:function(t,s){},GYZY:function(t,s){},IQaG:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),a=i("Au9i"),n=(i("d8/S"),i("Dd8w")),o=i.n(n),c=i("NYxO"),r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"footer_guide"},[i("a",{staticClass:"guide_item",class:{on:"/msite"===t.$route.path||"/"===t.$route.path},attrs:{href:"javascripot:;"},on:{click:function(s){t.goTo("/msite")}}},[t._m(0),t._v(" "),i("span",[t._v("外卖")])]),t._v(" "),i("a",{staticClass:"guide_item",class:{on:"/search"===t.$route.path},attrs:{href:"javascripot:;"},on:{click:function(s){t.goTo("/search")}}},[t._m(1),t._v(" "),i("span",[t._v("搜索")])]),t._v(" "),i("a",{staticClass:"guide_item",class:{on:"/order"===t.$route.path},attrs:{href:"javascripot:;"},on:{click:function(s){t.goTo("/order")}}},[t._m(2),t._v(" "),i("span",[t._v("订单")])]),t._v(" "),i("a",{staticClass:"guide_item",class:{on:"/profile"===t.$route.path},attrs:{href:"javascripot:;"},on:{click:function(s){t.goTo("/profile")}}},[t._m(3),t._v(" "),i("span",[t._v("我的")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-waimai"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-search"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-dingdan"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"item_icon"},[s("i",{staticClass:"iconfont icon-geren"})])}]};var l=i("VU/8")({methods:{goTo:function(t){this.$router.replace(t)}}},r,!1,function(t){i("2mts")},null,null).exports,v={mounted:function(){this.getAddress(),this.getUserInfo()},methods:o()({},Object(c.b)(["getAddress","getUserInfo"])),name:"App",components:{FooterGuide:l}},p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("router-view"),this._v(" "),s("FooterGuide",{directives:[{name:"show",rawName:"v-show",value:this.$route.meta.showFooter,expression:"$route.meta.showFooter"}]})],1)])},staticRenderFns:[]};var u=i("VU/8")(v,p,!1,function(t){i("XuAa")},null,null).exports,d=i("/ocq"),_={props:{title:String}},h={render:function(){var t=this.$createElement,s=this._self._c||t;return s("header",{staticClass:"header"},[this._t("left"),this._v(" "),s("span",{staticClass:"header_title"},[s("span",{staticClass:"header_title_text ellipsis"},[this._v(this._s(this.title))])]),this._v(" "),this._t("right")],2)},staticRenderFns:[]};var f=i("VU/8")(_,h,!1,function(t){i("kcTg")},null,null).exports,g={props:{score:Number,size:Number},computed:{starClass:function(){for(var t=this.score,s=[],i=Math.floor(t),e=0;e<i;e++)s.push("on");for(10*t-10*i>=5&&s.push("half");s.length<5;)s.push("off");return s}},name:"Star"},C={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"star",class:"star-"+this.size},this._l(this.starClass,function(t,i){return s("span",{key:i,staticClass:"star-item",class:t})}))},staticRenderFns:[]};var m=i("VU/8")(g,C,!1,function(t){i("GYZY")},null,null).exports,I={data:function(){return{baseImageUrl:"http://elm.cangdu.org/img/"}},computed:o()({},Object(c.d)(["shops"])),components:{Star:m},name:"ShopList"},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shop_container"},[t.shops.length?e("ul",{staticClass:"shop_list"},t._l(t.shops,function(s,i){return e("li",{key:i,staticClass:"shop_li border-1px",on:{click:function(s){t.$router.push("/shop")}}},[e("a",[e("div",{staticClass:"shop_left"},[e("img",{staticClass:"shop_img",attrs:{src:t.baseImageUrl+s.image_path}})]),t._v(" "),e("div",{staticClass:"shop_right"},[e("section",{staticClass:"shop_detail_header"},[e("h4",{staticClass:"shop_title ellipsis"},[t._v(t._s(s.name))]),t._v(" "),e("ul",{staticClass:"shop_detail_ul"},t._l(s.supports,function(s,i){return e("li",{key:i,staticClass:"supports"},[t._v(t._s(s.icon_name))])}))]),t._v(" "),e("section",{staticClass:"shop_rating_order"},[e("section",{staticClass:"shop_rating_order_left"},[e("Star",{attrs:{score:s.rating,size:24}}),t._v(" "),e("div",{staticClass:"rating_section"},[t._v("\n                "+t._s(s.rating)+"\n              ")]),t._v(" "),e("div",{staticClass:"order_section"},[t._v("\n                月售"+t._s(s.recent_order_num)+"单\n              ")])],1),t._v(" "),e("section",{staticClass:"shop_rating_order_right"},[e("span",{staticClass:"delivery_style delivery_right"},[t._v(t._s(s.delivery_mode.text))])])]),t._v(" "),e("section",{staticClass:"shop_distance"},[e("p",{staticClass:"shop_delivery_msg"},[e("span",[t._v("¥"+t._s(s.float_minimum_order_amount)+"起送")]),t._v(" "),e("span",{staticClass:"segmentation"},[t._v("/")]),t._v(" "),e("span",[t._v(t._s(s.piecewise_agent_fee.tips))])])])])])])})):e("ul",t._l(6,function(t){return e("li",[e("img",{attrs:{src:i("yP0H"),alt:"back"}})])}))])},staticRenderFns:[]};var A=i("VU/8")(I,w,!1,function(t){i("S+1n")},null,null).exports,S=i("DNVT"),x=(i("mgS3"),{data:function(){return{baseImageUrl:"https://fuss10.elemecdn.com"}},mounted:function(){this.$store.dispatch("getCategorys"),this.$store.dispatch("getShops")},watch:{categorys:function(t){this.$nextTick(function(){new S.a(".swiper-container",{loop:!0,auto:2e3,pagination:{el:".swiper-pagination"}})})}},computed:o()({},Object(c.d)(["address","categorys","userInfo"]),{categorysArr:function(){var t=[],s=[];return this.categorys.forEach(function(i){8===s.length&&(s=[]),0===s.length&&t.push(s),s.push(i)}),t}}),name:"Msite",components:{HeaderTop:f,ShopList:A}}),y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"msite"},[e("HeaderTop",{attrs:{title:t.address.name}},[e("router-link",{staticClass:"header_search",attrs:{slot:"left",to:"/search"},slot:"left"},[e("i",{staticClass:"iconfont icon-sousuo"})]),t._v(" "),e("router-link",{staticClass:"header_login",attrs:{slot:"right",to:t.userInfo._id?"/userinfo":"/login"},slot:"right"},[t.userInfo._id?e("span",{staticClass:"header_login_text"},[e("i",{staticClass:"incofont icon-person"})]):e("span",{staticClass:"header_login_text"},[t._v("登录|注册")])])],1),t._v(" "),e("nav",{staticClass:"msite_nav"},[t.categorys.length?e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.categorysArr,function(s,i){return e("div",{key:i,staticClass:"swiper-slide"},t._l(s,function(s,i){return e("a",{key:i,staticClass:"link_to_food",attrs:{href:"javascript:"}},[e("div",{staticClass:"food_container"},[e("img",{attrs:{src:t.baseImageUrl+s.image_url}})]),t._v(" "),e("span",[t._v(t._s(s.title))])])}))})),t._v(" "),e("div",{staticClass:"swiper-pagination"})]):e("img",{attrs:{src:i("nUDA"),alt:""}})]),t._v(" "),e("div",{staticClass:"msite_shop_list"},[t._m(0),t._v(" "),e("ShopList")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"shop_header"},[s("i",{staticClass:"iconfont icon-xuanxiang"}),this._v(" "),s("span",{staticClass:"shop_header_title"},[this._v("附近商家")])])}]};var k=i("VU/8")(x,y,!1,function(t){i("986t")},null,null).exports,b={data:function(){return{keyword:"",imgBaseUrl:"http://cangdu.org:8001/img/",noSearchShops:!1}},computed:o()({},Object(c.d)(["searchShops"])),methods:{search:function(){var t=this.keyword.trim();t&&this.$store.dispatch("searchShops",t)}},watch:{searchShops:function(t){t.length?this.noSearchShops=!1:this.noSearchShops=!0}},components:{HeaderTop:f}},P={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"search"},[i("HeaderTop",{attrs:{title:"搜索"}}),t._v(" "),i("form",{staticClass:"search_form",on:{submit:function(s){return s.preventDefault(),t.search(s)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search_input",attrs:{type:"search",placeholder:"请输入商家名称"},domProps:{value:t.keyword},on:{input:function(s){s.target.composing||(t.keyword=s.target.value)}}}),t._v(" "),i("input",{staticClass:"search_submit",attrs:{type:"submit"}})]),t._v(" "),t.noSearchShops?i("div",{staticClass:"search_none"},[t._v("很抱歉！无搜索结果")]):i("section",{staticClass:"list"},[i("ul",{staticClass:"list_container"},t._l(t.searchShops,function(s){return i("router-link",{key:s.id,staticClass:"list_li",attrs:{to:{path:"/shop",query:{id:s.id}},tag:"li"}},[i("section",{staticClass:"item_left"},[i("img",{staticClass:"restaurant_img",attrs:{src:t.imgBaseUrl+s.image_path}})]),t._v(" "),i("section",{staticClass:"item_right"},[i("div",{staticClass:"item_right_text"},[i("p",[i("span",[t._v(t._s(s.name))])]),t._v(" "),i("p",[t._v("月售 "+t._s(s.month_sales||s.recent_order_num)+" 单")]),t._v(" "),i("p",[t._v(t._s(s.delivery_fee||s.float_minimum_order_amount)+" 元起送 / 距离"+t._s(s.distance))])])])])}))])],1)},staticRenderFns:[]};var M=i("VU/8")(b,P,!1,function(t){i("QzLt")},"data-v-185a89bc",null).exports,T={name:"Order",components:{HeaderTop:f}},z={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("section",{staticClass:"order"},[s("HeaderTop",{attrs:{title:"订单列表"}}),this._v(" "),this._m(0)],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"order_no_login"},[s("img",{attrs:{src:i("ozGB")}}),this._v(" "),s("h3",[this._v("登录后查看外卖订单")]),this._v(" "),s("button",[this._v("立即登陆")])])}]};var D=i("VU/8")(T,z,!1,function(t){i("+npN")},null,null).exports,N={name:"Profile",components:{HeaderTop:f},methods:{logout:function(){var t=this;a.MessageBox.confirm("确认退出吗？").then(function(s){t.$store.dispatch("logout"),Object(a.Toast)("登出完成")},function(t){console.log("取消")})}},computed:o()({},Object(c.d)(["userInfo"]))},Z={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"profile"},[i("HeaderTop",{attrs:{title:"我的"}}),t._v(" "),i("section",{staticClass:"profile-number"},[i("router-link",{staticClass:"profile-link",attrs:{to:t.userInfo._id?"/userinfo":"/login"}},[i("div",{staticClass:"profile_image"},[i("i",{staticClass:"iconfont icon-person"})]),t._v(" "),i("div",{staticClass:"user-info"},[t.userInfo.phone?t._e():i("p",{staticClass:"user-info-top"},[t._v(t._s(t.userInfo.name||t.userInfo.phone||"注册/登录"))]),t._v(" "),i("p",[i("span",{staticClass:"user-icon"},[i("i",{staticClass:"iconfont icon-shouji icon-mobile"})]),t._v(" "),i("span",{staticClass:"icon-mobile-number"},[t._v(t._s(t.userInfo.phone||"暂无绑定手机号"))])])]),t._v(" "),i("span",{staticClass:"arrow"},[i("i",{staticClass:"iconfont icon-jiantou1"})])])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),i("section",{staticClass:"profile_my_order border-1px"},[t.userInfo._id?i("mt-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:t.logout}},[t._v("退出登陆")]):t._e()],1)],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"profile_info_data border-1px"},[i("ul",{staticClass:"info_data_list"},[i("a",{staticClass:"info_data_link",attrs:{href:"javascript:"}},[i("span",{staticClass:"info_data_top"},[i("span",[t._v("0.00")]),t._v("元")]),t._v(" "),i("span",{staticClass:"info_data_bottom"},[t._v("我的余额")])]),t._v(" "),i("a",{staticClass:"info_data_link",attrs:{href:"javascript:"}},[i("span",{staticClass:"info_data_top"},[i("span",[t._v("0")]),t._v("个")]),t._v(" "),i("span",{staticClass:"info_data_bottom"},[t._v("我的优惠")])]),t._v(" "),i("a",{staticClass:"info_data_link",attrs:{href:"javascript:"}},[i("span",{staticClass:"info_data_top"},[i("span",[t._v("0")]),t._v("分")]),t._v(" "),i("span",{staticClass:"info_data_bottom"},[t._v("我的积分")])])])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"profile_my_order border-1px"},[i("a",{staticClass:"my_order",attrs:{href:"javascript:"}},[i("span",[i("i",{staticClass:"iconfont icon-order-s"})]),t._v(" "),i("div",{staticClass:"my_order_div"},[i("span",[t._v("我的订单")]),t._v(" "),i("span",{staticClass:"my_order_icon"},[i("i",{staticClass:"iconfont icon-jiantou1"})])])]),t._v(" "),i("a",{staticClass:"my_order",attrs:{href:"javascript:"}},[i("span",[i("i",{staticClass:"iconfont icon-jifen"})]),t._v(" "),i("div",{staticClass:"my_order_div"},[i("span",[t._v("积分商城")]),t._v(" "),i("span",{staticClass:"my_order_icon"},[i("i",{staticClass:"iconfont icon-jiantou1"})])])]),t._v(" "),i("a",{staticClass:"my_order",attrs:{href:"javascript:"}},[i("span",[i("i",{staticClass:"iconfont icon-vip"})]),t._v(" "),i("div",{staticClass:"my_order_div"},[i("span",[t._v("硅谷外卖会员卡")]),t._v(" "),i("span",{staticClass:"my_order_icon"},[i("i",{staticClass:"iconfont icon-jiantou1"})])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"profile_my_order border-1px"},[s("a",{staticClass:"my_order",attrs:{href:"javascript:"}},[s("span",[s("i",{staticClass:"iconfont icon-fuwu"})]),this._v(" "),s("div",{staticClass:"my_order_div"},[s("span",[this._v("服务中心")]),this._v(" "),s("span",{staticClass:"my_order_icon"},[s("i",{staticClass:"iconfont icon-jiantou1"})])])])])}]};var j=i("VU/8")(N,Z,!1,function(t){i("EA7I")},null,null).exports,G=i("Xxa5"),H=i.n(G),F=i("exGp"),E=i.n(F),O={props:{alertText:String},methods:{closeTip:function(){this.$emit("closeTip",this.closeTip)}}},$={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"alert_container"},[i("section",{staticClass:"tip_text_container"},[t._m(0),t._v(" "),i("p",{staticClass:"tip_text"},[t._v(t._s(t.alertText))]),t._v(" "),i("div",{staticClass:"confrim",on:{click:t.closeTip}},[t._v("确认")])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip_icon"},[s("span"),this._v(" "),s("span")])}]};var R=i("VU/8")(O,$,!1,function(t){i("RQVQ")},"data-v-12357536",null).exports,U=i("fZjL"),B=i.n(U),V=i("//Fk"),Y=i.n(V),J=i("mtWM"),Q=i.n(J);function W(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Y.a(function(e,a){var n=void 0;if("GET"===i){var o="";B()(s).forEach(function(t){o+=t+"="+s[t]+"&"}),""!==o&&(o=o.substring(0,o.lastIndexOf("&")),t=t+"?"+o),n=Q.a.get(t)}else n=Q.a.post(t,s);n.then(function(t){e(t.data)}).catch(function(t){a(t)})})}var K="http://localhost:8000/api",L=function(t){return W(K+"/position/"+t)},X=function(t,s){return W(K+"/shops",{longitude:t,latitude:s})},q=function(t,s){return W(K+"/search_shops",{geohash:t,keyword:s})},tt=function(t){var s=t.name,i=t.pwd,e=t.captcha;return W(K+"/login_pwd",{name:s,pwd:i,captcha:e},"POST")},st=function(t,s){return W(K+"/login_sms",{phone:t,code:s},"POST")},it={data:function(){return{loginWay:!1,phone:"",computeTime:0,showPwd:!1,code:"",pwd:"",name:"",captcha:"",alertText:"",alertShow:!1}},computed:{rightPhone:function(){return/^1\d{10}$/.test(this.phone)}},methods:{getCode:function(){var t=this;return E()(H.a.mark(function s(){var i;return H.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.computeTime){s.next=7;break}return t.computeTime=30,t.intervalId=setInterval(function(){t.computeTime--,t.computeTime<=0&&clearInterval(t.intervalId)},1e3),s.next=5,e=t.phone,W(K+"/sendcode",{phone:e});case 5:1===(i=s.sent).code&&(t.showAlert(i.msg),t.computeTime&&(t.computeTime=0,clearInterval(t.intervalId)));case 7:case"end":return s.stop()}var e},s,t)}))()},login:function(){var t=this;return E()(H.a.mark(function s(){var i,e,a,n,o,c,r,l;return H.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=void 0,!t.loginWay){s.next=16;break}if(t.rightPhone,e=t.phone,a=t.code,t.rightPhone){s.next=8;break}return t.showAlert("手机号不正确"),s.abrupt("return");case 8:if(/^\d{6}$/.test(a)){s.next=11;break}return t.showAlert("验证码不正确"),s.abrupt("return");case 11:return s.next=13,st(e,a);case 13:i=s.sent,s.next=33;break;case 16:if(n=t.name,o=t.pwd,c=t.captcha,t.name){s.next=22;break}return t.showAlert("用户名不正确"),s.abrupt("return");case 22:if(t.pwd){s.next=27;break}return t.showAlert("密码不正确"),s.abrupt("return");case 27:if(t.captcha){s.next=30;break}return t.showAlert("验证码不正确"),s.abrupt("return");case 30:return s.next=32,tt({name:n,pwd:o,captcha:c});case 32:i=s.sent;case 33:t.computeTime&&(t.computeTime=0,clearInterval(t.intervalId)),0===i.code?(r=i.data,t.$store.dispatch("recordUser",r),t.$router.replace("/profile")):1===i.code&&(t.getCaptcha(),l=i.msg,t.showAlert(l));case 35:case"end":return s.stop()}},s,t)}))()},showAlert:function(t){this.alertShow=!0,this.alertText=t},closeTip:function(){this.alertShow=!1,this.alertText=""},getCaptcha:function(){this.$refs.captcha.src="http://localhost:3000/captcha?time="+Date.now()}},components:{AlertTip:R}},et={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("section",{staticClass:"loginContainer"},[i("div",{staticClass:"loginInner"},[i("div",{staticClass:"login_header"},[i("h2",{staticClass:"login_logo"},[t._v("硅谷外卖")]),t._v(" "),i("div",{staticClass:"login_header_title"},[i("a",{class:{on:t.loginWay},attrs:{href:"javascript:;"},on:{click:function(s){t.loginWay=!0}}},[t._v("短信登录")]),t._v(" "),i("a",{class:{on:!t.loginWay},attrs:{href:"javascript:;"},on:{click:function(s){t.loginWay=!1}}},[t._v("密码登录")])])]),t._v(" "),i("div",{staticClass:"login_content"},[i("form",[i("div",{class:{on:t.loginWay}},[i("section",{staticClass:"login_message"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}}),t._v(" "),i("button",{staticClass:"get_verification",class:{right_phone:t.rightPhone},attrs:{disabled:!t.rightPhone},on:{click:function(s){t.getCode()}}},[t._v("\n              "+t._s(t.computeTime>0?"已发送("+t.computeTime+"s)":"获取验证码")+"\n            ")])]),t._v(" "),i("section",{staticClass:"login_verification"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"tel",maxlength:"8",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(s){s.target.composing||(t.code=s.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),i("div",{class:{on:!t.loginWay}},[i("section",[i("section",{staticClass:"login_message"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",maxlength:"11",placeholder:"手机/邮箱/用户名"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}})]),t._v(" "),i("section",{staticClass:"login_verification"},[t.showPwd?i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"text",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(s){s.target.composing||(t.pwd=s.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(s){s.target.composing||(t.pwd=s.target.value)}}}),t._v(" "),i("div",{staticClass:"switch_button",class:t.showPwd?"on":"off",on:{click:function(s){t.showPwd=!t.showPwd}}},[i("div",{staticClass:"switch_circle",class:{right:t.showPwd}}),t._v(" "),i("span",{staticClass:"switch_text"},[t._v(t._s(t.showPwd?"abc":"..."))])])]),t._v(" "),i("section",{staticClass:"login_message"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{type:"text",maxlength:"11",placeholder:"验证码"},domProps:{value:t.captcha},on:{input:function(s){s.target.composing||(t.captcha=s.target.value)}}}),t._v(" "),i("img",{ref:"captcha",staticClass:"get_verification",attrs:{src:"http://localhost:3000/captcha",alt:"captcha"},on:{click:t.getCaptcha}})])])]),t._v(" "),i("button",{staticClass:"login_submit",on:{click:t.login}},[t._v("登录")])]),t._v(" "),i("a",{staticClass:"about_us",attrs:{href:"javascript:;"}},[t._v("关于我们")])]),t._v(" "),i("a",{staticClass:"go_back",attrs:{href:"javascript:"},on:{click:function(s){t.$router.back()}}},[i("i",{staticClass:"iconfont icon-jiantou2"})])]),t._v(" "),i("AlertTip",{directives:[{name:"show",rawName:"v-show",value:t.alertShow,expression:"alertShow"}],attrs:{alertText:t.alertText},on:{closeTip:t.closeTip}})],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"login_hint"},[this._v("\n            温馨提示：未注册硅谷外卖帐号的手机号，登录时将自动注册，且代表已同意\n            "),s("a",{attrs:{href:"javascript:;"}},[this._v("《用户服务协议》")])])}]};var at=i("VU/8")(it,et,!1,function(t){i("mVgL")},null,null).exports,nt={data:function(){return{supportClasses:["activity-green","activity-red","activity-orange"],shopShow:!1,supportShow:!1}},computed:o()({},Object(c.d)(["info"])),methods:{toggleShopShow:function(){this.shopShow=!this.shopShow},toggleSupportShow:function(){this.supportShow=!this.supportShow}}},ot={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shop-header"},[i("nav",{staticClass:"shop-nav",style:{backgroundImage:"url("+t.info.bgImg+")"}},[i("a",{staticClass:"back",on:{click:function(s){t.$router.back()}}},[i("i",{staticClass:"iconfont icon-arrow_left"})])]),t._v(" "),i("div",{staticClass:"shop-content",on:{click:t.toggleShopShow}},[i("img",{staticClass:"content-image",attrs:{src:t.info.avatar}}),t._v(" "),i("div",{staticClass:"header-content"},[i("h2",{staticClass:"content-title"},[t._m(0),t._v(" "),i("span",{staticClass:"content-name"},[t._v(t._s(t.info.name))]),t._v(" "),i("i",{staticClass:"content-icon"})]),t._v(" "),i("div",{staticClass:"shop-message"},[i("span",{staticClass:"shop-message-detail"},[t._v(t._s(t.info.score))]),t._v(" "),i("span",{staticClass:"shop-message-detail"},[t._v("月售 "+t._s(t.info.sellCount)+" 单")]),t._v(" "),i("span",{staticClass:"shop-message-detail"},[t._v("\n             "+t._s(t.info.description)+"\n            "),i("span",[t._v("约 "+t._s(t.info.deliveryTime)+" 分钟")])]),t._v(" "),i("span",{staticClass:"shop-message-detail"},[t._v("距离 "+t._s(t.info.distance))])])])]),t._v(" "),t.info.supports?i("div",{staticClass:"shop-header-discounts",on:{click:t.toggleSupportShow}},[i("div",{staticClass:"discounts-left"},[i("div",{staticClass:"activity",class:t.supportClasses[t.info.supports[0].type]},[i("span",{staticClass:"content-tag"},[i("span",{staticClass:"mini-tag"},[t._v(t._s(t.info.supports[0].name))])]),t._v(" "),i("span",{staticClass:"activity-content ellipsis"},[t._v(t._s(t.info.supports[0].content))])])]),t._v(" "),i("div",{staticClass:"discounts-right"},[t._v("\n      "+t._s(t.info.supports.length)+" 个优惠\n    ")])]):t._e(),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.shopShow,expression:"shopShow"}],staticClass:"shop-brief-modal"},[i("div",{staticClass:"brief-modal-content"},[i("h2",{staticClass:"content-title"},[i("span",{staticClass:"content-tag"},[i("span",{staticClass:"mini-tag"},[t._v("品牌")])]),t._v(" "),i("span",{staticClass:"content-name"},[t._v(t._s(t.info.name))])]),t._v(" "),i("ul",{staticClass:"brief-modal-msg"},[i("li",[i("h3",[t._v(t._s(t.info.score))]),t._v(" "),i("p",[t._v("评分")])]),t._v(" "),i("li",[i("h3",[t._v(t._s(t.info.sellCount)+"单")]),t._v(" "),i("p",[t._v("月售")])]),t._v(" "),i("li",[i("h3",[t._v(t._s(t.info.description))]),t._v(" "),i("p",[t._v("约"+t._s(t.info.deliveryTime)+"分钟")])]),t._v(" "),i("li",[i("h3",[t._v(t._s(t.info.deliveryPrice)+"元")]),t._v(" "),i("p",[t._v("配送费用")])]),t._v(" "),i("li",[i("h3",[t._v(t._s(t.info.distance))]),t._v(" "),i("p",[t._v("距离")])])]),t._v(" "),i("h3",{staticClass:"brief-modal-title"},[i("span",[t._v("公告")])]),t._v(" "),i("div",{staticClass:"brief-modal-notice"},[t._v("\n          "+t._s(t.info.bulletin)+"\n        ")]),t._v(" "),i("div",{staticClass:"mask-footer",on:{click:t.toggleShopShow}},[i("span",{staticClass:"iconfont icon-close"})])]),t._v(" "),i("div",{staticClass:"brief-modal-cover"})])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.supportShow,expression:"supportShow"}],staticClass:"activity-sheet"},[i("div",{staticClass:"activity-sheet-content"},[i("h2",{staticClass:"activity-sheet-title"},[t._v("优惠活动")]),t._v(" "),i("ul",{staticClass:"list"},t._l(t.info.supports,function(s,e){return i("li",{key:e,staticClass:"activity-item",class:t.supportClasses[s.type]},[i("span",{staticClass:"content-tag"},[i("span",{staticClass:"mini-tag"},[t._v(t._s(s.name))])]),t._v(" "),i("span",{staticClass:"activity-content"},[t._v(t._s(s.content))])])})),t._v(" "),i("div",{staticClass:"activity-sheet-close",on:{click:t.toggleSupportShow}},[i("span",{staticClass:"iconfont icon-close"})])]),t._v(" "),i("div",{staticClass:"activity-sheet-cover"})])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"content-tag"},[s("span",{staticClass:"mini-tag"},[this._v("品牌")])])}]};var ct={components:{ShopHeader:i("VU/8")(nt,ot,!1,function(t){i("E9x0")},"data-v-fbf67b82",null).exports},mounted:function(){this.$store.dispatch("getShopInfo")}},rt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("ShopHeader"),this._v(" "),s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/goods",replace:""}},[this._v("点餐")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/ratings",replace:""}},[this._v("评价")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/shop/info",replace:""}},[this._v("商家")])],1)]),this._v(" "),s("keep-alive",[s("router-view")],1)],1)},staticRenderFns:[]};var lt=i("VU/8")(ct,rt,!1,function(t){i("uREA")},null,null).exports,vt=i("GQaK"),pt={data:function(){return{supportClasses:["activity-green","activity-red","activity-orange"]}},computed:o()({},Object(c.d)(["info"])),mounted:function(){this.info.pics&&this._initScroll()},methods:{_initScroll:function(){new vt.a(".shop-info");var t=this.$refs.picsUl,s=this.info.pics.length;t.style.width=126*s-6+"px",new vt.a(".pic-wrapper",{scrollX:!0})}},watch:{info:function(){var t=this;this.$nextTick(function(){t._initScroll()})}}},ut={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shop-info"},[i("div",{staticClass:"info-content"},[i("section",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("配送信息")]),t._v(" "),i("div",{staticClass:"delivery"},[i("div",[i("span",{staticClass:"delivery-icon"},[t._v(t._s(t.info.description))]),t._v(" "),i("span",[t._v("由商家配送提供配送,约 "+t._s(t.info.deliveryTime)+" 分钟送达,距离 "+t._s(t.info.distance))])]),t._v(" "),i("div",{staticClass:"delivery-money"},[t._v("配送费¥"+t._s(t.info.deliveryPrice))])])]),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("section",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("活动与服务")]),t._v(" "),i("div",{staticClass:"activity"},t._l(t.info.supports,function(s,e){return i("div",{key:e,staticClass:"activity-item",class:t.supportClasses[s.type]},[i("span",{staticClass:"content-tag"},[i("span",{staticClass:"mini-tag"},[t._v(t._s(s.name))])]),t._v(" "),i("span",{staticClass:"activity-content"},[t._v(t._s(s.content))])])}))]),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("section",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("商家实景")]),t._v(" "),i("div",{staticClass:"pic-wrapper"},[i("ul",{ref:"picsUl",staticClass:"pic-list"},t._l(t.info.pics,function(t,s){return i("li",{key:s,staticClass:"pic-item"},[i("img",{attrs:{width:"120",height:"90",src:t}})])}))])]),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("section",{staticClass:"section"},[i("h3",{staticClass:"section-title"},[t._v("商家信息")]),t._v(" "),i("ul",{staticClass:"detail"},[i("li",[i("span",{staticClass:"bold"},[t._v("品类")]),t._v(" "),i("span",[t._v(t._s(t.info.category))])]),t._v(" "),i("li",[i("span",{staticClass:"bold"},[t._v("商家电话")]),t._v(" "),i("span",[t._v(t._s(t.info.phone))])]),t._v(" "),i("li",[i("span",{staticClass:"bold"},[t._v("地址")]),t._v(" "),i("span",[t._v(t._s(t.info.address))])]),t._v(" "),i("li",[i("span",{staticClass:"bold"},[t._v("营业时间")]),t._v(" "),i("span",[t._v(t._s(t.info.workTime))])])])])])])},staticRenderFns:[]};var dt=i("VU/8")(pt,ut,!1,function(t){i("Syta")},null,null).exports,_t={props:{food:Object},methods:{updateFoodCount:function(t){this.$store.dispatch("updateFoodCount",{isAdd:t,food:this.food})}}},ht={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cartcontrol"},[i("transition",{attrs:{name:"move"}},[t.food.count?i("div",{staticClass:"iconfont icon-remove_circle_outline",on:{click:function(s){s.stopPropagation(),t.updateFoodCount(!1)}}}):t._e()]),t._v(" "),t.food.count?i("div",{staticClass:"cart-count"},[t._v(t._s(t.food.count))]):t._e(),t._v(" "),i("div",{staticClass:"iconfont icon-add_circle",on:{click:function(s){s.stopPropagation(),t.updateFoodCount(!0)}}})],1)},staticRenderFns:[]};var ft=i("VU/8")(_t,ht,!1,function(t){i("FlRV")},null,null).exports,gt={props:{food:Object},data:function(){return{isShow:!1}},methods:{toggleShow:function(){this.isShow=!this.isShow}},components:{CartControl:ft}},Ct={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return t.isShow?i("div",{staticClass:"food"},[i("div",{staticClass:"food-content"},[i("div",{staticClass:"image-header"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.food.image,expression:"food.image"}]}),t._v(" "),i("p",{staticClass:"foodpanel-desc"},[t._v(t._s(t.food.info))]),t._v(" "),i("div",{staticClass:"back",on:{click:t.toggleShow}},[i("i",{staticClass:"iconfont icon-arrow_left"})])]),t._v(" "),i("div",{staticClass:"content"},[i("h1",{staticClass:"title"},[t._v(t._s(t.food.name))]),t._v(" "),i("div",{staticClass:"detail"},[i("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.food.sellCount)+"份")]),t._v(" "),i("span",{staticClass:"rating"},[t._v("好评率"+t._s(t.food.rating)+"%")])]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"now"},[t._v("￥"+t._s(t.food.price))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[t._v("￥"+t._s(t.food.oldPrice))])]),t._v(" "),i("div",{staticClass:"cartcontrol-wrapper"},[i("CartControl",{attrs:{food:t.food}})],1)])]),t._v(" "),i("div",{staticClass:"food-cover",on:{click:t.toggleShow}})]):t._e()},staticRenderFns:[]};var mt=i("VU/8")(gt,Ct,!1,function(t){i("g463")},"data-v-4cbdef60",null).exports,It={data:function(){return{isShow:!1}},computed:o()({},Object(c.d)(["cartFoods","info"]),Object(c.c)(["totalCount","totalPrice"]),{payClass:function(){return this.totalPrice>=this.info.minPrice?"enough":"not-enough"},payText:function(){var t=this.totalPrice,s=this.info.minPrice;return 0===t?"￥"+s+"元起送":t<s?"还差￥"+(s-t)+"元起送":"结算"},listShow:function(){var t=this;return 0===this.totalCount?(this.isShow=!1,!1):(this.isShow&&this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new vt.a(".list-content",{click:!0})}),this.isShow)}}),methods:{toggleShow:function(){this.totalCount>0&&(this.isShow=!this.isShow)},clearCart:function(){var t=this;a.MessageBox.confirm("确定清空购物车吗?").then(function(s){t.$store.dispatch("clearCart")},function(){})}},components:{CartControl:ft}},wt={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"shopcart"},[i("div",{staticClass:"content"},[i("div",{staticClass:"content-left",on:{click:t.toggleShow}},[i("div",{staticClass:"logo-wrapper"},[i("div",{staticClass:"logo",class:{highlight:t.totalCount}},[i("i",{staticClass:"iconfont icon-shopping_cart",class:{highlight:t.totalCount}})]),t._v(" "),t.totalCount?i("div",{staticClass:"num"},[t._v(t._s(t.totalCount))]):t._e()]),t._v(" "),i("div",{staticClass:"price",class:{highlight:t.totalCount}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),i("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.info.deliveryPrice)+"元")])]),t._v(" "),i("div",{staticClass:"content-right"},[i("div",{staticClass:"pay",class:t.payClass},[t._v("\n          "+t._s(t.payText)+"\n        ")])])]),t._v(" "),i("transition",{attrs:{name:"move"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"shopcart-list"},[i("div",{staticClass:"list-header"},[i("h1",{staticClass:"title"},[t._v("购物车")]),t._v(" "),i("span",{staticClass:"empty",on:{click:t.clearCart}},[t._v("清空")])]),t._v(" "),i("div",{staticClass:"list-content"},[i("ul",t._l(t.cartFoods,function(s,e){return i("li",{key:e,staticClass:"food"},[i("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("￥"+t._s(s.price))])]),t._v(" "),i("div",{staticClass:"cartcontrol-wrapper"},[i("CartControl",{attrs:{food:s}})],1)])}))])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:t.toggleShow}})])},staticRenderFns:[]};var At=i("VU/8")(It,wt,!1,function(t){i("BOXW")},"data-v-46a9206a",null).exports,St={data:function(){return{scrollY:0,tops:[],food:{}}},mounted:function(){var t=this;this.$store.dispatch("getShopGoods",function(){t.$nextTick(function(){t._initScroll(),t._initTops()})})},methods:{_initScroll:function(){var t=this;new vt.a(".menu-wrapper",{click:!0}),this.foodsScroll=new vt.a(".foods-wrapper",{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(s){s.x;var i=s.y;t.scrollY=Math.abs(i)}),this.foodsScroll.on("scrollEnd",function(s){s.x;var i=s.y;t.scrollY=Math.abs(i)})},_initTops:function(){var t=[],s=0;t.push(s);var i=this.$refs.foodsUl.getElementsByClassName("food-list-hook");Array.prototype.slice.call(i).forEach(function(i){s+=i.clientHeight,t.push(s)}),this.tops=t},clickMenuItem:function(t){var s=this.tops[t];this.scrollY=s,this.foodsScroll.scrollTo(0,-s,300)},showFood:function(t){this.food=t,this.$refs.food.toggleShow()}},computed:o()({},Object(c.d)(["goods"]),{currentIndex:function(){var t=this.scrollY,s=this.tops;return s.findIndex(function(i,e){return t>=i&&t<s[e+1]})}}),components:{CartControl:ft,Food:mt,ShopCart:At}},xt={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"goods"},[i("div",{staticClass:"menu-wrapper"},[i("ul",t._l(t.goods,function(s,e){return i("li",{key:e,staticClass:"menu-item",class:{current:e===t.currentIndex},on:{click:function(s){t.clickMenuItem(e)}}},[i("span",{staticClass:"text bottom-border-1px"},[s.icon?i("img",{staticClass:"icon",attrs:{src:s.icon}}):t._e(),t._v("\n            "+t._s(s.name)+"\n          ")])])}))]),t._v(" "),i("div",{staticClass:"foods-wrapper"},[i("ul",{ref:"foodsUl"},t._l(t.goods,function(s,e){return i("li",{key:e,staticClass:"food-list-hook"},[i("h1",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),i("ul",t._l(s.foods,function(s,e){return i("li",{key:e,staticClass:"food-item bottom-border-1px",on:{click:function(i){t.showFood(s)}}},[i("div",{staticClass:"icon"},[i("img",{attrs:{width:"57",height:"57",src:s.icon}})]),t._v(" "),i("div",{staticClass:"content"},[i("h2",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(s.description))]),t._v(" "),i("div",{staticClass:"extra"},[i("span",{staticClass:"count"},[t._v("月售 "+t._s(s.sellCount)+" 份")]),t._v(" "),i("span",[t._v("好评率 "+t._s(s.rating)+"%")])]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"now"},[t._v("¥"+t._s(s.price))]),t._v(" "),s.oldPrice?i("span",{staticClass:"old"},[t._v("¥"+t._s(s.oldPrice))]):t._e()]),t._v(" "),i("div",{staticClass:"cartcontrol-wrapper"},[i("CartControl",{attrs:{food:s}})],1)])])}))])}))]),t._v(" "),i("ShopCart")],1),t._v(" "),i("Food",{ref:"food",attrs:{food:t.food}})],1)},staticRenderFns:[]};var yt=i("VU/8")(St,xt,!1,function(t){i("mIc4")},null,null).exports,kt={data:function(){return{onlyShowText:!0,selectType:2}},mounted:function(){var t=this;this.$store.dispatch("getShopRatings",function(){t.$nextTick(function(){new vt.a(t.$refs.ratings,{click:!0})})})},computed:o()({},Object(c.d)(["info","ratings"]),Object(c.c)(["positiveSize"]),{filterRatings:function(){var t=this.ratings,s=this.onlyShowText,i=this.selectType;return t.filter(function(t){var e=t.rateType,a=t.text;return(2===i||i==e)&&(!s||a.length>0)})}}),methods:{setSelectType:function(t){this.selectType=t},toggleOnlyShowText:function(){this.onlyShowText=!this.onlyShowText}},components:{Star:m}},bt={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"ratings",staticClass:"ratings"},[i("div",{staticClass:"ratings-content"},[i("div",{staticClass:"overview"},[i("div",{staticClass:"overview-left"},[i("h1",{staticClass:"score"},[t._v(t._s(t.info.score))]),t._v(" "),i("div",{staticClass:"title"},[t._v("综合评分")]),t._v(" "),i("div",{staticClass:"rank"},[t._v("高于周边商家 99%")])]),t._v(" "),i("div",{staticClass:"overview-right"},[i("div",{staticClass:"score-wrapper"},[i("span",{staticClass:"title"},[t._v("服务态度")]),t._v(" "),i("Star",{attrs:{score:t.info.serviceScore,size:36}}),t._v(" "),i("span",{staticClass:"score"},[t._v(t._s(t.info.serviceScore))])],1),t._v(" "),i("div",{staticClass:"score-wrapper"},[i("span",{staticClass:"title"},[t._v("商品评分")]),t._v(" "),i("Star",{attrs:{score:t.info.foodScore,size:36}}),t._v(" "),i("span",{staticClass:"score"},[t._v(t._s(t.info.foodScore))])],1),t._v(" "),i("div",{staticClass:"delivery-wrapper"},[i("span",{staticClass:"title"},[t._v("送达时间")]),t._v(" "),i("span",{staticClass:"delivery"},[t._v(t._s(t.info.deliveryTime)+" 分钟")])])])]),t._v(" "),i("div",{staticClass:"split"}),t._v(" "),i("div",{staticClass:"ratingselect"},[i("div",{staticClass:"rating-type border-1px"},[i("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){t.setSelectType(2)}}},[t._v("\n          全部\n            "),i("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),t._v(" "),i("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){t.setSelectType(0)}}},[t._v("\n          满意\n          "),i("span",{staticClass:"count"},[t._v(t._s(t.positiveSize))])]),t._v(" "),i("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){t.setSelectType(1)}}},[t._v("\n          不满意\n          "),i("span",{staticClass:"count"},[t._v(t._s(t.ratings.length-t.positiveSize))])])]),t._v(" "),i("div",{staticClass:"switch",class:{on:t.onlyShowText},on:{click:t.toggleOnlyShowText}},[i("span",{staticClass:"iconfont icon-check_circle"}),t._v(" "),i("span",{staticClass:"text"},[t._v("只看有内容的评价")])])]),t._v(" "),i("div",{staticClass:"rating-wrapper"},[i("ul",t._l(t.filterRatings,function(s,e){return i("li",{key:e,staticClass:"rating-item"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),t._v(" "),i("div",{staticClass:"content"},[i("h1",{staticClass:"name"},[t._v(t._s(s.username))]),t._v(" "),i("div",{staticClass:"star-wrapper"},[i("Star",{attrs:{score:s.score,size:24}}),t._v(" "),i("span",{staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(s.text))]),t._v(" "),i("div",{staticClass:"recommend"},[i("span",{staticClass:"iconfont",class:0===s.rateType?"icon-thumb_up":"icon-thumb_down"}),t._v(" "),t._l(s.recommend,function(s,e){return i("span",{key:e,staticClass:"item"},[t._v(t._s(s))])})],2),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(t._f("data-format")(s.rateTime)))])])])}))])])])},staticRenderFns:[]};var Pt=i("VU/8")(kt,bt,!1,function(t){i("IQaG")},null,null).exports;e.default.use(d.a);var Mt,Tt=new d.a({routes:[{path:"/Msite",name:"Msite",component:k,meta:{showFooter:!0}},{path:"/Search",name:"Search",component:M,meta:{showFooter:!0}},{path:"/Order",name:"Order",component:D,meta:{showFooter:!0}},{path:"/Profile",name:"Profile",component:j,meta:{showFooter:!0}},{path:"/Login",name:"login",component:at},{path:"/Shop",name:"shop",component:lt,children:[{path:"/shop/goods",component:yt},{path:"/shop/ratings",component:Pt},{path:"/shop/info",component:dt},{path:"",redirect:"/shop/goods"}]},{path:"/",redirect:"/msite",meta:{showFooter:!0}}]}),zt=i("bOdI"),Dt=i.n(zt),Nt=(Mt={},Dt()(Mt,"receive_address",function(t,s){var i=s.address;t.address=i}),Dt()(Mt,"receive_categorys",function(t,s){var i=s.categorys;t.categorys=i}),Dt()(Mt,"receive_shops",function(t,s){var i=s.shops;t.shops=i}),Dt()(Mt,"receive_user_info",function(t,s){var i=s.userInfo;t.userInfo=i}),Dt()(Mt,"reset_user_info",function(t){t.userInfo={}}),Dt()(Mt,"receive_goods",function(t,s){var i=s.goods;t.goods=i}),Dt()(Mt,"receive_info",function(t,s){var i=s.info;t.info=i}),Dt()(Mt,"receive_ratings",function(t,s){var i=s.ratings;t.ratings=i}),Dt()(Mt,"increment_food_count",function(t,s){var i=s.food;i.count?i.count++:(e.default.set(i,"count",1),t.cartFoods.push(i))}),Dt()(Mt,"decrement_food_count",function(t,s){var i=s.food;i.count&&(i.count--,0===i.count&&t.cartFoods.splice(t.cartFoods.indexOf(i),1))}),Dt()(Mt,"clear_cart",function(t){t.cartFoods.forEach(function(t){return t.count=0}),t.cartFoods=[]}),Dt()(Mt,"receive_search_shops",function(t,s){var i=s.searchShops;t.searchShops=i}),Mt),Zt={getAddress:function(t){var s=this,i=t.commit,e=t.state;return E()(H.a.mark(function t(){var a,n,o;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.latitude+","+e.longitude,t.next=3,L(a);case 3:0===(n=t.sent).code&&(o=n.data,i("receive_address",{address:o}));case 5:case"end":return t.stop()}},t,s)}))()},getCategorys:function(t){var s=this,i=t.commit;return E()(H.a.mark(function t(){var e,a;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(K+"/index_category");case 2:0===(e=t.sent).code&&(a=e.data,i("receive_categorys",{categorys:a}));case 4:case"end":return t.stop()}},t,s)}))()},getShops:function(t){var s=this,i=t.commit,e=t.state;return E()(H.a.mark(function t(){var a,n,o,c;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.longitude,n=e.latitude,t.next=3,X(a,n);case 3:0===(o=t.sent).code&&(c=o.data,i("receive_shops",{shops:c}));case 5:case"end":return t.stop()}},t,s)}))()},recordUser:function(t,s){(0,t.commit)("receive_user_info",{userInfo:s})},getUserInfo:function(t){var s=this,i=t.commit;return E()(H.a.mark(function t(){var e,a;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(K+"/userinfo");case 2:0===(e=t.sent).code&&(a=e.data,i("receive_user_info",{userInfo:a}));case 4:case"end":return t.stop()}},t,s)}))()},logout:function(t){var s=this,i=t.commit;return E()(H.a.mark(function t(){return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(K+"/logout");case 2:0===t.sent.code&&i("reset_user_info");case 4:case"end":return t.stop()}},t,s)}))()},getShopRatings:function(t,s){var i=this,e=t.commit;return E()(H.a.mark(function t(){var a,n;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(void 0)();case 2:0===(a=t.sent).code&&(n=a.data,e("receive_ratings",{ratings:n}),s&&s());case 4:case"end":return t.stop()}},t,i)}))()},getShopGoods:function(t,s){var i=this,e=t.commit;return E()(H.a.mark(function t(){var a,n;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(void 0)();case 2:0===(a=t.sent).code&&(n=a.data,e("receive_goods",{goods:n}),s&&s());case 4:case"end":return t.stop()}},t,i)}))()},getShopInfo:function(t){var s=this,i=t.commit;return E()(H.a.mark(function t(){var e,a;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(void 0)();case 2:0===(e=t.sent).code&&(a=e.data,i("receive_info",{info:a}));case 4:case"end":return t.stop()}},t,s)}))()},updateFoodCount:function(t,s){var i=t.commit,e=s.isAdd,a=s.food;i(e?"increment_food_count":"decrement_food_count",{food:a})},clearCart:function(t){(0,t.commit)("clear_cart")},searchShops:function(t,s){var i=this,e=t.commit,a=t.state;return E()(H.a.mark(function t(){var n,o,c;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.latitude+","+a.longitude,t.next=3,q(n,s);case 3:0===(o=t.sent).code&&(c=o.data,e("receive_search_shops",{searchShops:c}));case 5:case"end":return t.stop()}},t,i)}))()}};e.default.use(c.a);var jt=new c.a.Store({state:{latitude:40.10038,longitude:116.36867,address:{},categorys:[],shops:[],userInfo:{},goods:[],ratings:[],info:[],cartFoods:[],searchShops:[]},mutations:Nt,actions:Zt,getters:{totalCount:function(t){return t.cartFoods.reduce(function(t,s){return t+s.count},0)},totalPrice:function(t){return t.cartFoods.reduce(function(t,s){return t+s.count*s.price},0)},positiveSize:function(t){return t.ratings.reduce(function(t,s){return t+(0===s.rateType?1:0)},0)}}}),Gt=i("cTzj"),Ht=i.n(Gt),Ft=i("ZmhX"),Et=i.n(Ft),Ot=i("Eoz/"),$t=i.n(Ot);e.default.filter("data-format",function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return $t()(t,s)}),e.default.component(a.Button.name,a.Button),e.default.use(Ht.a,{loading:Et.a}),new e.default({el:"#app",router:Tt,store:jt,components:{App:u},template:"<App/>"})},QzLt:function(t,s){},RQVQ:function(t,s){},"S+1n":function(t,s){},Syta:function(t,s){},XuAa:function(t,s){},ZmhX:function(t,s,i){t.exports=i.p+"static/img/loading.c1486d8.gif"},"d8/S":function(t,s){},g463:function(t,s){},kcTg:function(t,s){},mIc4:function(t,s){},mVgL:function(t,s){},mgS3:function(t,s){},nUDA:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCA0OTAiPg0KICA8ZGVmcz4NCiAgICA8cGF0aCBpZD0iYiIgZD0iTTAgMGgxMDgwdjQ4OUgweiIvPg0KICAgIDxmaWx0ZXIgaWQ9ImEiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIHg9Ii01MCUiIHk9Ii01MCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+DQogICAgICA8ZmVPZmZzZXQgZHk9IjEiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz4NCiAgICAgIDxmZUNvbG9yTWF0cml4IGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiDQogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDEgMCIvPg0KICAgIDwvZmlsdGVyPg0KICA8L2RlZnM+DQogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgPGc+DQogICAgICA8dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz4NCiAgICAgIDx1c2UgZmlsbD0iI0ZGRiIgeGxpbms6aHJlZj0iI2IiLz4NCiAgICA8L2c+DQogICAgPGcgZmlsbD0iI0Y2RjZGNiI+DQogICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NiAzNikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ2IDM2KSI+DQogICAgICAgIDxwYXRoIGQ9Ik05IDEzOWgxMDB2MzRIOXoiLz4NCiAgICAgICAgPGVsbGlwc2UgY3g9IjU5IiBjeT0iNTkiIHJ4PSI1OSIgcnk9IjU5Ii8+DQogICAgICA8L2c+DQogICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MTYgMzYpIj4NCiAgICAgICAgPHBhdGggZD0iTTkgMTM5aDEwMHYzNEg5eiIvPg0KICAgICAgICA8ZWxsaXBzZSBjeD0iNTkiIGN5PSI1OSIgcng9IjU5IiByeT0iNTkiLz4NCiAgICAgIDwvZz4NCiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg4NiAzNikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgIDwvZz4NCiAgICA8ZyBmaWxsPSIjRjZGNkY2Ij4NCiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc2IDI1MikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ2IDI1MikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjE2IDI1MikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODg2IDI1MikiPg0KICAgICAgICA8cGF0aCBkPSJNOSAxMzloMTAwdjM0SDl6Ii8+DQogICAgICAgIDxlbGxpcHNlIGN4PSI1OSIgY3k9IjU5IiByeD0iNTkiIHJ5PSI1OSIvPg0KICAgICAgPC9nPg0KICAgIDwvZz4NCiAgPC9nPg0KPC9zdmc+"},ozGB:function(t,s,i){t.exports=i.p+"static/img/person.d607000.png"},uREA:function(t,s){},yP0H:function(t,s){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCAyNjEiPg0KICA8ZGVmcz4NCiAgICA8cGF0aCBpZD0iYiIgZD0iTTAgMGgxMDgwdjI2MEgweiIvPg0KICAgIDxmaWx0ZXIgaWQ9ImEiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIHg9Ii01MCUiIHk9Ii01MCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCI+DQogICAgICA8ZmVPZmZzZXQgZHk9Ii0xIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+DQogICAgICA8ZmVDb2xvck1hdHJpeCBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIg0KICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSIwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAxIDAiLz4NCiAgICA8L2ZpbHRlcj4NCiAgPC9kZWZzPg0KICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMSkiPg0KICAgIDx1c2UgZmlsbD0iIzAwMCIgZmlsdGVyPSJ1cmwoI2EpIiB4bGluazpocmVmPSIjYiIvPg0KICAgIDx1c2UgZmlsbD0iI0ZGRiIgeGxpbms6aHJlZj0iI2IiLz4NCiAgICA8cGF0aCBmaWxsPSIjRjZGNkY2IiBkPSJNMjMwIDQ0aDUzM3Y0NkgyMzB6Ii8+DQogICAgPHJlY3Qgd2lkdGg9IjE3MiIgaGVpZ2h0PSIxNzIiIHg9IjMwIiB5PSI0NCIgZmlsbD0iI0Y2RjZGNiIgcng9IjQiLz4NCiAgICA8cGF0aCBmaWxsPSIjRjZGNkY2Ig0KICAgICAgICAgIGQ9Ik0yMzAgMTE4aDM2OXYzMEgyMzB6TTIzMCAxODJoMzIzdjMwSDIzMHpNODEyIDExNWgyMzh2MzlIODEyek04MDggMTg0aDI0MnYzMEg4MDh6TTkxNyA0OGgxMzN2MzdIOTE3eiIvPg0KICA8L2c+DQo8L3N2Zz4="}},["NHnr"]);
//# sourceMappingURL=app.92aa63bfe1dd373ef977.js.map